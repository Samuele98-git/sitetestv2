<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Modulistica - SOES S.p.A.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/js/app.js"></script>
    <style>body { font-family: 'Inter', sans-serif; background: #f8fafc; }</style>
</head>
<body class="flex flex-col min-h-screen pt-24">
    <div id="header-inject"></div>

    <main class="max-w-6xl mx-auto px-4 py-16 flex-grow">
        <h1 class="text-4xl font-extrabold text-[#004080] mb-8 text-center">Area Download</h1>
        <div id="container" class="space-y-8"></div>
    </main>

    <div id="footer-inject"></div>

    <script>
        fetch('/api/content/modulistica').then(r=>r.json()).then(d => {
            const con = document.getElementById('container');
            if(!d.sections.length) { con.innerHTML='<p class="text-center">Nessun documento.</p>'; return; }
            
            con.innerHTML = d.sections.map(sec => `
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        <span class="bg-blue-100 text-[#004080] p-2 rounded-lg mr-3"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg></span>
                        ${sec.name}
                    </h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        ${sec.pdfs.map(pdf => `
                            <a href="${pdf.path}" target="_blank" class="flex items-center p-4 bg-gray-50 rounded-xl hover:bg-blue-50 border border-transparent hover:border-blue-100 transition group">
                                <div class="text-red-500 mr-3 text-3xl"><i class="fas fa-file-pdf"></i></div> 
                                <svg class="w-8 h-8 text-red-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"/></svg>
                                <div>
                                    <div class="font-bold text-gray-800 group-hover:text-[#004080]">${pdf.name}</div>
                                    <div class="text-xs text-blue-500 font-semibold uppercase">Scarica</div>
                                </div>
                            </a>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        });
    </script>
</body>
</html>